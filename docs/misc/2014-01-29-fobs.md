# 免费在线书籍的案例：《Operating Systems: Three Easy Pieces》的经验分享

标题: The Case for Free Online Books (FOBs): Experiences with "Operating Systems: Three Easy Pieces" \
链接: http://from-a-to-remzi.blogspot.com/2014/01/the-case-for-free-online-books-fobs.html \
作者: Remzi Arpaci-Dusseau \
日期: 2014-01-29

纯机翻, 无人工修正.

原文有大量链接文字, 这里没放进来. 图片也没放进来, 不过都不重要.

免费在线书籍非常多. 我 mentor 写的几本研究生教材也都免费公开.

---

**摘要：** 本文简要概述了我们编写一本名为《Operating Systems: Three Easy Pieces》（简称 OSTEP，有时发音为“oh step”）的免费在线教科书的经历。该书由本人（Remzi Arpaci-Dusseau）和我的妻子（Andrea Arpaci-Dusseau）在威斯康星大学麦迪逊分校讲授 CS 537——本科操作系统课程期间，经过多年共同开发而成。自 2012 年以来，该书章节已被下载超过 50 万次，且在过去一年中，书籍网页浏览量接近 300 万次，最近因 Hacker News 和 Reddit 的推荐而人气激增。在分享我们的经验时，我们提出了 **免费在线书籍** 的概念——这是对传统印刷教科书的一个现已相当成熟的替代方案。

## 起初：面临的问题

教科书出版业一直令我困扰，尤其是计算机科学教科书方面。为何？让我列举原因：

*   **价格。** 我听到关于计算机科学教科书最普遍的抱怨就是价格过高。花费超过 100 美元购买一本书是痛苦的，特别是与“普通”书籍相比。例如，你只需 10 美元就能买到平装版的《云图》（我读过的最精彩的小说之一），而一本关于某个专业主题的教科书却要贵上十倍？
*   **不必要的版本更新。** 教科书被迫进行虚假的频繁更新，导致“新”版本泛滥。背后的原因显而易见（提示：还是价格问题）。如果图书出版商让自由市场发挥作用，二手书市场本可以很好地解决价格问题。通过迫使学生购买最新版，新书市场被人为地支撑起来。
*   **质量。** 遗憾的是，许多计算机科学教科书的质量并不特别高。别误会，市面上也有一些非常出色的书籍：我记得自己在本科时期就爱上了 Hennessy 和 Patterson 的《计算机体系结构：量化研究方法》（第一版），还有一些书籍，如 Bryant 和 O'Hallaron 的《计算机系统：程序员视角》或 David Culler 的《并行计算机体系结构》等，都是信息丰富、极好的书籍。不幸的是，并非所有计算机科学书籍都能达到这样的水平：有很多书只是“过得去”，甚至更糟。

总结一下：传统印刷书籍价格过高；由于出版商强制无谓的修订，学生无法购买二手版；许多计算机科学书籍质量不高。看起来学生们实际上想要的是 **高质量、低成本的书籍**。或者，至少具备这两点中的一个！

## 我的亲身经历

作为学生时，我最初接触到了这种高成本/低质量的问题（主要是在密歇根大学本科期间，以及在伯克利研究生期间稍有涉及），但那时我几乎无法控制或选择：我从阅读中学到的东西比上课更多，所以我买了我能买的所有书籍，有时为了自学更多还会额外购买。我是幸运的：出生在一个能够承担这些奢侈的家庭。

成为教授后，这个问题变得更加突出。我从 2000 年 1 月开始在威斯康星州教授操作系统课程，此后几乎未曾间断（我的妻子也一样，我们一起领导一个主要研究文件和存储系统的小组）。对于研究生课程（CS 736），没有问题：学生只需阅读论文，而这些论文（幸运地）通常在网络上免费可得。书籍高价问题开始显现的地方是在《操作系统导论》课程（CS 537）——大多数计算机科学或工程专业的本科生在威斯康星大学学习期间都会修读这门课程。

在教授这门课程的最初几年里，我和我的妻子 Andrea 尝试了许多经典教科书。你知道它们是谁的：Silberschatz、Tannenbaum、Nutt、Dietel & Dietel 等等。我们要求学生购买书籍，按照我们认为合适的方式授课，并引导学生阅读相关章节。

我注意到学生对书籍反馈的趋势：无论我们选择哪本书，大多数学生都会抱怨他们不太喜欢这本书。事实上，我在评估中看到最常见的评论是：“我没有使用这本书；实际上，我只是来听课，这就足够了。”

当然，这部分反馈也是因为我教学技巧逐渐提高，尤其是在本科层面。当你是一位新教授，正忙于建立一个研究团队时，投入时间到本科教学上是很困难的——虽然有趣，但教学并不能推进你的研究事业或助你获得终身职位，所以你往往会专注于研究生课程，在那里既能追求研究，又能（重要的是）招募学生。随着时间的推移，特别是在获得终身职位后，我发现更容易在本科教学上投入更多一点时间——事实证明，这是一种有益的追求！

给学生的注释：注意你给教授的反馈——他们实际上可能会听取！在这个情况下，我们确实这么做了。我不再要求任何特定的教科书，实际上只是告诉学生来上课并记笔记。我唯一建议学生一定要买的书是 Kernighan 和 Ritchie 的，因为这是不言而喻的。

不幸的是，这一做法带来了新的问题，或许也是意料之中的。一些学生，尤其是那些（a）不太擅长记笔记或（b）不太能早起的学生，以友好礼貌的方式抱怨没有参考资料。作为学生，你必须来上课并记笔记——没有其他材料可以依靠。

## 朝向免费在线书籍——《Operating Systems: Three Easy Pieces》

我认真对待了学生的反馈意见。可能对我个人来说，我是一个“书本学习者”，正如上面提到的——在课堂上我并不特别喜欢听讲，而是宁愿之后阅读书籍，而不是在讲座中全神贯注（事实上，Andrea 总是感到惊讶——有时甚至是惊骇——得知我以前经常在课堂上睡觉；疲惫的学生还能在哪里补觉呢？）。我知道，作为本科生时，我在某些班级表现最差，要么是因为教材不好，要么更糟糕，根本没有教材；那为什么我要在我的学生身上制造同样的情况呢？最后，我已经过了终身任期这个阶段，尽管我们的研究团队仍在全力前进，但我手头多了一些时间，可以用来做一些额外的项目。

我利用这些时间进行写作。我的 **系统** 很简单（系统总比目标好，对吧？）：就给定主题进行一次讲座，然后趁热打铁，回到办公室，关上门，写下我刚刚讲述的内容。多年的努力使得讲座，无论是 Andrea 还是我自己，都准备得很充分——我们觉得我们懂得如何向本科生和年轻的研究生传授这些知识。我只需要将这些内容整理成书的形式。虽然结果不一定美观，但它们可能对那些错过课程或只想以书面形式复习所听内容的学生有用。

为了确保取得进展，我实施了几条规则，因为 **完美是优秀的敌人** (perfect is the enemy of the good)。首先，我决定只写纯文本——不做复杂的排版。其次，我不画任何图表——需要的任何图片都直接以纯 ASCII 艺术格式完成。第三，我会一直写到笔记完成——不要把现在可以做的事情留到以后。

这次初步努力的结果可以在这里找到，它们并不特别漂亮——只是一堆文本文件。下面是我“绘制”的一个示例图形：

```
0    |---------------------|
4    |    program code     |              all the instructions
...  |                     |              live up in this part
     |                     |
1K   |---------------------|
     |        heap         |              the heap contains all
     |                     |              malloc'd (new'd) data
     |                     |                   structures
2K   |---------------------|               [it grows downward]
     |          |          |
     |          v          |
     |                     |
     |                     |
     |                     |
     |                     |
     |                     |
     |        free         |
     |                     |
     |                     |
     |                     |
     |                     |
     |                     |
     |                     |
     |          ^          |
     |          |          |                [it grows upward]
15k  |---------------------|             the stack contains local
     |        stack        |            (stack-allocated) variables,
     |                     |             arguments to routines, 
16k  |---------------------|              return variables, etc.

      FIGURE: ADDRESS SPACE
```

这张图描绘了虚拟地址空间的概念视图，包括代码、堆和栈。不是很美观，当然也不是你想象中典型精美排版教科书中会包含的内容。但它很有效：学生并不介意图画的粗糙，反而很欣赏这些基本形式的笔记。我愉快地回忆起学年末课程评估时的反馈：“天啊！你应该写一本教科书！”诸如此类的评论让我兴奋不已，想要做更多的工作。无论多么微小，正面的反馈都是一种强大的动力。

## 认真对待免费在线书籍

在那个为课程编写笔记的第一个学期之后，取得进展变得相当容易。每当我教授本科操作系统课程时，我都会尝试编写更多的笔记。有一个学期，我终于开始增加一些作业（我们还有几项作业要做，这是在 1.0 版本发布前剩下的大部分工作）。通过 LaTeX 进行排版很快跟进，不久我们就有了看起来像真书的东西。用实际图形代替 ASCII 艺术是这一过程的最后一步。《Operating Systems: Three Easy Pieces》的第一个版本诞生了，于是我们的 **免费在线书籍** 向所有人开放。

## 从虚拟到实体（再到虚拟）

学生的反馈推动了书籍历史上的又一步前进。一名学生简单地说：“我喜欢这本书。我能买一本纸质版吗？我更喜欢阅读纸质书，而且一本装订好的书是我愿意购买的。”

我实际上与几家出版商（这里省略了名字）谈过制作纸质版的事情。这些对话大致是这样的：

*   他们：“您将来有兴趣写书吗？”
*   我：“实际上，我和我的妻子有一本书。它是关于操作系统的。”
*   他们：“哦，很有趣。你们为什么要做这个？”
*   我：“嗯，我们认为在这个领域还有空间容纳另一本著作。而且我们在存储和文件系统方面有一些当前作者没有的背景。”
*   他们：“更有意思了。怎样才能让你们承诺为我们做这件事？”
*   我：“嗯，它必须是按章节在线免费的。你们可以通过销售纸质版来赚钱。”
*   他们：“我认为这行不通。”（对话结束）

就这样结束了。

我开始探索蓬勃发展的在线按需出版世界，并偶然发现了 lulu.com。这是一个很酷的网站：你上传一个 PDF，调整一些设置（比如封面应该是什么样子），然后“砰”，你就有了自己的书在售，按需打印且成本合理。

不久，我们为这本“免费”的操作系统教科书创建了硬壳和平装两个版本。这些基本上是以成本价印刷（我们每本书赚大约 5 美元，主要是作为一个小小的、有点傻的激励来做这件事），每学期我们教授这门课时，总有一部分学生会购买纸质版。

同样有趣的是，Lulu 还允许你出售 PDF，因此我们开始以 10 美元的价格出售所有章节的完整 PDF，以及其他一些额外功能，如术语表、构建系统技巧等，令人惊讶的是，这仍然是最受欢迎的购买形式（约占 55%；平装书约 35%；硬壳书约占剩余的 10%）。

简单来说：即使你的书在网上是免费的，也有人会购买。免费在线书籍可以让你变得富有！好吧，不是真正意义上的富有，或者说离富有还远着呢，但你懂我的意思。

## 使用统计

将一套免费的书籍章节放到网上带来了极佳的副作用：世界各地的人们开始使用它——有时只是使用其中的几章（这是免费书籍提供的新可能性），有时则使用整本书。我听说在美国（多所学校）、加拿大（包括多伦多、滑铁卢和阿尔伯塔等地）、印度、葡萄牙、土耳其等地的课程中，人们选择使用 OSTEP 而非传统操作系统课程的更多传统选项。每周都有更多人询问相关情况。

更有趣的是，免费在线书籍使得 **随意性使用** 成为可能。如果某个随机访问者在谷歌搜索多级反馈队列调度、通过分段或分页构建虚拟内存、TLB 如何工作、条件变量或信号量是什么、本地文件系统如何实现、文件系统日志记录如何运作，甚至 Sun 网络文件系统协议是如何真正运行的，他们可能会偶然发现我们的书籍。

我们甚至收到了来自教授们的轻微抱怨，称本应使用其他书籍的学生却在使用我们的书籍。学生的地下行动，正发挥着它的魔力！

就实际使用情况而言，过去几年我们一直在追踪章节下载量（感谢我们的计算机系统实验室）：

如您所见，在最初的几年里每年有几千次下载，但在过去的两年里，我们见证了惊人的增长，**仅去年（2013 年）就有近 40 万次章节下载**，总下载量已超过 50 万次。我们预计在 2014 年的某个时候会达到一百万次章节下载。

## Hacker News/Reddit 效应

就在上周，我们还经历了登上 Hacker News 首页以及在 Reddit 上引发长时间讨论的有趣经历（这一影响尚未反映在上述章节下载总量中）。我们在网站上使用 Google Analytics 来了解用户粘性，因此我们可以确定有多少人因此而来。结果相当惊人：主网页在 **仅仅一天内就获得了超过 130 万次页面浏览量！** 这几乎使我们当年的总页面浏览量翻了一番。拥有读者群体的网站（如 Hacker News、Reddit 以及许多类似站点）能够将视线引导到你的内容上，如果你的内容正是这些观众想要看到的。我想我应该在页面顶部放个广告。不过，也许不必：它可能最终会变成宣传别人的操作系统书籍。

## 对教学评价的影响

书籍的另一个有趣影响似乎体现在我的教学评价上。当然，随着教学经验的积累，我变得更加熟练，但学生们确实很欣赏我们正在尝试编写一本书的事实，现在他们除了上课之外，还有了获取信息的另一个来源。在我开始编写书籍的同时，我的教学评价显著提高。

坦白说，书籍并非评分上升的唯一因素。这只是我对本科生教学投入了更多精力。起初我只是做得还算合理，现在我实际上是努力做好。书籍无疑是其中的关键部分，但并非唯一部分。

## 为什么在线免费书籍更优

迄今为止，所有的这些经验驱使我坚信一个简单的真理：免费在线教科书从根本上优于传统的教科书。虽然我们出于某种必要性偶然踏上了在线免费书籍这条道路，但实际上，这种新模式有许多优势。虽然无疑其他人（例如 Craig Mod）已经对此进行了更深入的探讨，但在这里，我将列出一些你应该考虑编写免费教科书的理由：

*   **可链接性。** 传统教科书将其内容封闭在昂贵的卷册之中，除非你有足够的决心购买整个（昂贵的）书籍，否则很难链接到或从中学习。在线免费书籍则让所有人都能接触到其内容，便于其他网站链接到章节；谷歌搜索也能找到你的材料。
*   **更广泛的读者群。** 与前一点相关，传统教科书通常是为课程购买的。在线免费书籍可以被任何对该书籍覆盖主题感兴趣的人浏览，因此更有可能被更多人阅读。这种随意性的使用拓宽了受众范围。如果你的目标是尽可能向更多人传递信息，那么免费且在线的方式更为有效。
*   **部分使用。** 传统教科书几乎规定了必须使用整本书；要求学生购买三本不同的书，更不用说一本，都是成本高昂的。在线免费书籍则允许使用多本书的子集，也许能组合出整体效果优于各部分之和的内容。虽然有理由只使用一本书（比如风格和语气），但也有可能从各种不同来源整合材料。
*   **频繁的微修订。** 传统教科书的修订需要大量努力，而且往往出于错误的原因（例如，迫使学生购买新书而非二手书）。在线免费书籍则根据需要适时进化。实际上，我们根据互联网上随机人士的反馈和评论定期更新章节。
*   **感觉良好。** 制作免费书籍会让你感觉良好，就像你为世界提供了一项（小小的）服务。每一封说“干得好！”或“谢谢！”的邮件都会让你微笑。我们收到了数百封这样的邮件，并珍视每一封。

现在你可能在问：但它们能赚钱吗？我认为（a）在线免费书籍可以为你带来一些收入（通过售卖印刷版、更完善的电子版等），但更重要的是（b）大多数教科书作者无论如何都不是为了钱而写作。我的导师 David Patterson（一位极为成功的教科书作者）很久以前就告诉我，“没有人应该为了钱而写作”(no one should write for the money)，并且讲述了他向母亲转述人们对他的书籍评价时的自豪之情。

## 出版商应该怎么做？

我怀疑，如果他们愿意适应变化，出版商仍然可以在在线免费书籍的世界中扮演重要角色。他们显然可以负责广告和推广；他们可以负责印刷实体书（希望也能保持较低的成本）；他们可以采取多种方式来帮助推广好书，同时赚取一些利润，而内容仍然保持在线免费。

出版商是否会适应呢？这很难说。如果你关注唱片公司、电影制片厂甚至学术期刊等传统行业，你会发现现代化的步伐如同冰河移动，防御性强，且常常向后看——这些都是悲观的理由。但出版界无疑有许多聪明人，如果他们紧跟时代潮流，他们将在我们的在线免费书籍未来中为自己开辟一席之地。否则，他们将消失。

## 结论

即便我们取得了适度的成功，也清楚地表明 **免费在线书籍正日益兴起**。传统的纸质书籍（a）价格昂贵且（b）质量参差不齐。相比之下，在线免费书籍至少不昂贵（事实上，它们是免费的！）；我们希望它们能够达到或甚至超越传统书籍的质量，而且鉴于频繁的微修订，随着时间的推移，它们可能会变得更好。因为在线免费书籍具有可链接性，可以通过谷歌搜索轻松找到并使用，所以在线免费书籍的章节可能会被比传统纸质书籍中被困住的信息更多的人阅读。

你在考虑写书吗？帮自己一个忙：开始写作，并将你写的内容放到你的网站上。在你自己的课堂上使用它。倾听学生的反馈。享受这个过程！我们发现，整个过程可以非常有趣且值得。让我们使用免费材料来提升计算机科学教育的水平。作为顶尖研究机构的技术人员，难道我们不应该走在前列吗？
